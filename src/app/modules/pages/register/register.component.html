<div class="register-container">
  <h2>Crear una cuenta</h2>
  <form [formGroup]="registerForm"  (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="firstName">Nombre</label>
          <input type="text" [ngClass]="{'input-error':validFirstName}" id="firstName" class="form-control" formControlName="firstName" required>
          <div *ngIf="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched">
            <small class="error" *ngIf="registerForm.get('firstName')?.errors?.['required']">El nombre es obligatorio.</small>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="lastName">Apellidos</label>
          <input type="text" [ngClass]="{'input-error':validLastName}" id="lastName" class="form-control" formControlName="lastName" required>
          <div *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched">
            <small class="error" *ngIf="registerForm.get('lastName')?.errors?.['required']">Los apellidos son obligatorios.</small>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="email">Correo electrónico</label>
          <input type="email" [ngClass]="{'input-error':validEmail}" id="email" class="form-control" formControlName="email" required>
          <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
            <small class="error" *ngIf="registerForm.get('email')?.errors?.['required']">El correo es obligatorio.</small>
            <small class="error" *ngIf="registerForm.get('email')?.errors?.['email']">El correo no es válido.</small>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="phone">Teléfono</label>
          <input type="text" [ngClass]="{'input-error':validPhone}" id="phone" class="form-control" formControlName="phone" required>
          <div *ngIf="registerForm.get('phone')?.invalid && registerForm.get('phone')?.touched">
            <small class="error" *ngIf="registerForm.get('phone')?.errors?.['required']">El teléfono es obligatorio.</small>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="address">Dirección</label>
      <input type="text" id="address" class="form-control" formControlName="address">
    </div>
    <div class="form-group">
      <label for="age">Edad</label>
      <input type="number" [ngClass]="{'input-error':validAge}" id="age" class="form-control" formControlName="age" required>
      <div *ngIf="registerForm.get('age')?.invalid && registerForm.get('age')?.touched">
        <small class="error" *ngIf="registerForm.get('age')?.errors?.['required']">La edad es obligatoria.</small>
        <small class="error" *ngIf="registerForm.get('age')?.errors?.['min']">Debe tener al menos 13 años.</small>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="password">Contraseña</label>
          <input type="password" [ngClass]="{'input-error':validPassword}" id="password" class="form-control" formControlName="password" required>
          <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
            <small class="error" *ngIf="registerForm.get('password')?.errors?.['required']">La contraseña es obligatoria.</small>
            <small class="error" *ngIf="registerForm.get('password')?.errors?.['pattern']">La contraseña debe tener al menos un número y una letra mayúscula.</small>
            <small class="error" *ngIf="registerForm.get('password')?.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres.</small>
            <small class="error" *ngIf="registerForm.get('password')?.errors?.['maxlength']">La contraseña no puede exceder los 18 caracteres.</small>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="confirmPassword">Confirmar contraseña</label>
          <input type="password" [ngClass]="{'input-error':validConfirmPassword}"  id="confirmPassword" class="form-control" formControlName="confirmPassword" required>
          <div *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
            <small class="error" *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">La confirmación de contraseña es obligatoria.</small>
            <small class="error" *ngIf="registerForm.hasError('passwordMismatch')">Las contraseñas no coinciden.</small>
          </div>
        </div>
      </div>
    </div>
    <div class="form-buttons">
      <button type="submit"  [ngClass]="{'input-disabled':registerForm.invalid}" [disabled]="registerForm.invalid"  class="login-btn" >REGISTRARSE</button>
      <button type="button" class="login-btn mt-1" (click)="onClear()">LIMPIAR FORMULARIO</button>
    </div>
  </form>
  <p class="text-center mt-3">¿Ya tiene una cuenta? <a [routerLink]="['/login']">Inicie sesión aquí</a></p>
</div>
